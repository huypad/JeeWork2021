<ng-container [ngSwitch]="Actionid">
    <!-- [ngTemplateOutletContext]="{ item: child }" -->
    <ng-container *ngSwitchCase="9" [ngTemplateOutlet]="status"></ng-container>
    <ng-container *ngSwitchCase="1" [ngTemplateOutlet]="assign"></ng-container>
    <ng-container *ngSwitchCase="10" [ngTemplateOutlet]="priority"></ng-container>
    <ng-container *ngSwitchCase="2" [ngTemplateOutlet]="task"></ng-container>
    <ng-container *ngSwitchCase="3" [ngTemplateOutlet]="task"></ng-container>
    <ng-container *ngSwitchCase="7" [ngTemplateOutlet]="tags"></ng-container>
    <ng-container *ngSwitchCase="13" [ngTemplateOutlet]="movetolist"></ng-container>
    <ng-container *ngSwitchCase="6" [ngTemplateOutlet]="movetolist"></ng-container>
    <ng-container *ngSwitchCase="14" [ngTemplateOutlet]="movetolist"></ng-container>
    <ng-container *ngSwitchCase="11" [ngTemplateOutlet]="changedate"></ng-container>
    <ng-container *ngSwitchCase="12" [ngTemplateOutlet]="changedate"></ng-container>
    <ng-container *ngSwitchCase="4" [ngTemplateOutlet]="comment"></ng-container>
    <ng-container *ngSwitchDefault></ng-container>
</ng-container>

<ng-template #status>

    <div class="cu-edit-automation__container-body-actions-row">
        <div class="cu-edit-automation__container-body-actions-label">{{'GeneralKey.chontinhtrang' | translate}}: </div>

        <div class="cu-automation-field-value cu-automation-field-value_stretch" [matMenuTriggerFor]="statusto">
            <div class="cu-automation-field-value-status-multiple">
                <div class="cu-status-filter">
                    <div cudropdown="" class="cu-dropdown_left cu-dropdown">
                        <div class="cu-status-filter__toggle cu-dropdown__toggle">
                            <div *ngIf="!this.value.checked" class="cu-status-filter__value"> {{'GeneralKey.chon' | translate}} </div>
                            <ng-container *ngIf="this.value.checked">
                                <div class="row">
                                    <div class="cu-task-row-status1" style="width:20px;padding-right:5px">
                                        <div class="point" [ngStyle]="{'backgroundColor': this.value.checked.color}">
                                        </div>
                                    </div>
                                    {{this.value.checked.statusname}}
                                </div>
                            </ng-container>

                            <div icon="angle-right" class="cu-status-filter__down icon">
                                <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="13 0 582 2048"
                                    id="svg-sprite-angle-right">
                                    <path
                                        d="M595 1088c0 8.667-3.333 16.333-10 23l-466 466c-6.667 6.667-14.333 10-23 10s-16.333-3.333-23-10l-50-50c-6.667-6.667-10-14.333-10-23s3.333-16.333 10-23l393-393L23 695c-6.667-6.667-10-14.333-10-23s3.333-16.333 10-23l50-50c6.667-6.667 14.333-10 23-10s16.333 3.333 23 10l466 466c6.667 6.667 10 14.333 10 23z">
                                    </path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <mat-menu #statusto="matMenu">
            <div class="menu-status">
                <button mat-menu-item *ngFor="let stt of listStatus">
                    <mat-checkbox [checked]="stt.id_row==checked" (click)="SelectedStatus(stt)">
                        <div class="row">
                            <div class="cu-task-row-status1" style="width:20px;padding-right:5px">
                                <div class="point" [ngStyle]="{'backgroundColor': stt.color}">
                                </div>
                            </div>
                            {{stt.statusname}}
                        </div>
                    </mat-checkbox>
                </button>
            </div>
        </mat-menu>

    </div>
</ng-template>

<ng-template #assign>
    <div class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row_assignee">
        <div class="cu-automation-field-value_stretch" *ngIf="!showfullassign">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-assignees w-100">
                    <div class="cu-edit-automation__container-body-actions-row">
                        <div class="cu-automation-field-value cu-automation-field-value_stretch">
                            <div class="cu-automation-field-value-user">

                                <kt-avatar-list-users [ListUser]="getItemSelectedAssign()" MaxSize="3" iconSize="24">
                                </kt-avatar-list-users>

                                <div class="add-user url" [matMenuTriggerFor]="owner">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                        <path
                                            d="M9.602 3.7c-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 3.321 0 5.97 2.117 5.97 6.167 0 3.555-1.949 6.833-2.383 7.833h-2.115c.392-1.536 2.499-4.366 2.499-7.842 0-5.153-5.867-4.985-7.369-2.458zm13.398 15.3h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z" />
                                    </svg>
                                </div>

                                <mat-menu #owner="matMenu">
                                    <div class="page-work-detail" (click)="$event.stopPropagation();">
                                        <kt-choose-users isNewView="true" [options]="getOptions()"
                                            (ItemSelected)="ItemSelectedAssign($event,1)">
                                        </kt-choose-users>
                                    </div>
                                </mat-menu>

                            </div>

                        </div>
                    </div>

                    <div class="cu-automation-field-value-assignees__more">
                        <div class="cu-automation-field-value-assignees__more-text"
                            (click)="showfullassign=!showfullassign">
                            {{'GeneralKey.nangcao' | translate}} </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="cu-automation-field-value-assignees" *ngIf="showfullassign">
            <div class="cu-edit-automation__container-body-actions-row">
                <div
                    class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_assignee">
                    {{'GeneralKey.them'|translate}}: </div>

                <div class="row">
                    <kt-avatar-list-users [ListUser]="getItemSelectedAssign()" MaxSize="3" iconSize="24">
                    </kt-avatar-list-users>

                    <div class="add-user url" [matMenuTriggerFor]="owner1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                            <path
                                d="M9.602 3.7c-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 3.321 0 5.97 2.117 5.97 6.167 0 3.555-1.949 6.833-2.383 7.833h-2.115c.392-1.536 2.499-4.366 2.499-7.842 0-5.153-5.867-4.985-7.369-2.458zm13.398 15.3h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z" />
                        </svg>
                    </div>

                    <mat-menu #owner1="matMenu">
                        <div class="page-work-detail" (click)="$event.stopPropagation();">
                            <kt-choose-users isNewView="true" [options]="getOptions()"
                                (ItemSelected)="ItemSelectedAssign($event,1)">
                            </kt-choose-users>
                        </div>
                    </mat-menu>
                </div>

            </div>
            <div class="cu-edit-automation__container-body-actions-row ng-trigger ng-trigger-loadingEnter">
                <div
                    class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_assignee">
                    {{'GeneralKey.bot'|translate}}: </div>
                <div class="row">
                    <kt-avatar-list-users [ListUser]="getItemRemoveAssign()" MaxSize="3" iconSize="24">
                    </kt-avatar-list-users>

                    <div class="add-user url" [matMenuTriggerFor]="owner2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                            <path
                                d="M9.602 3.7c-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 3.321 0 5.97 2.117 5.97 6.167 0 3.555-1.949 6.833-2.383 7.833h-2.115c.392-1.536 2.499-4.366 2.499-7.842 0-5.153-5.867-4.985-7.369-2.458zm13.398 15.3h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z" />
                        </svg>
                    </div>

                    <mat-menu #owner2="matMenu">
                        <div class="page-work-detail" (click)="$event.stopPropagation();">
                            <kt-choose-users isNewView="true" [options]="getOptions()"
                                (ItemSelected)="ItemSelectedAssign($event,2)">
                            </kt-choose-users>
                        </div>
                    </mat-menu>
                </div>
            </div>

            <div class="cu-edit-automation__container-body-actions-row ng-trigger ng-trigger-loadingEnter">
                <div
                    class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_assignee">
                    {{'GeneralKey.chidinhlai'|translate}}: </div>
                <div class="row">
                    <kt-avatar-list-users [ListUser]="getItemReassign()" MaxSize="3" iconSize="24">
                    </kt-avatar-list-users>

                    <div class="add-user url" [matMenuTriggerFor]="owner3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                            <path
                                d="M9.602 3.7c-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 3.321 0 5.97 2.117 5.97 6.167 0 3.555-1.949 6.833-2.383 7.833h-2.115c.392-1.536 2.499-4.366 2.499-7.842 0-5.153-5.867-4.985-7.369-2.458zm13.398 15.3h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z" />
                        </svg>
                    </div>

                    <mat-menu #owner3="matMenu">
                        <div class="page-work-detail" (click)="$event.stopPropagation();">
                            <kt-choose-users isNewView="true" [options]="getOptions()"
                                (ItemSelected)="ItemSelectedAssign($event,4)">
                            </kt-choose-users>
                        </div>
                    </mat-menu>
                </div>
            </div>

            <div class="cu-edit-automation__container-body-actions-row ng-trigger ng-trigger-loadingEnter">
                <div
                    class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_assignee">
                    {{'GeneralKey.botatca'|translate}}: </div>
                <div class="cu-automation-field-value cu-automation-field-value_stretch">
                    <mat-checkbox [(ngModel)]="value.removeall" class="example-margin"></mat-checkbox>

                </div>
            </div>


        </div>
    </div>

    <div _ngcontent-gxg-c554="" class="cu-automation-task-helper__container">
        <div _ngcontent-gxg-c554="" class="cu-automation-task-helper">
            <div _ngcontent-gxg-c554="" class="cu-automation-task-helper__container"> Nếu <span _ngcontent-gxg-c554="" class="cu-automation-task-helper__action"> người được giao việc </span>
               không có quyền trong công việc thì được bỏ qua. </div>
        </div>
    </div>

</ng-template>

<ng-template #priority>
    <div class="cu-edit-automation__container-body-actions-row">
        <div class="cu-edit-automation__container-body-actions-label"> {{'GeneralKey.chondouutien' | translate}} :
        </div>

        <div class="cu-automation-field-value cu-automation-field-value_stretch url">
            <div class="cu-automation-field-value-status-multiple">
                <div class="cu-status-filter">
                    <div cudropdown="" class="cu-dropdown_left cu-dropdown">
                        <div class="cu-status-filter__toggle cu-dropdown__toggle" [matMenuTriggerFor]="priorityto">
                            <div class="cu-status-filter__value">
                                <ng-container *ngIf="!value.to; else bidingpriorityto">
                                    {{'GeneralKey.chonmuc' | translate}}
                                </ng-container>
                                <ng-template #bidingpriorityto>
                                    <i class="{{ getPriority(value.to).icon }}"></i>
                                    &nbsp;
                                    {{ 'priority.'+getPriority(value.to).name | translate }}
                                </ng-template>
                            </div>
                        </div>
                        <mat-menu #priorityto="matMenu">
                            <button mat-menu-item *ngFor="let prio of listPriority"
                                (click)="updatePriority(prio.value,false)">
                                <i class="{{prio.icon}} pd-r-10"></i>
                                {{ 'priority.'+prio.name | translate }}
                            </button>
                        </mat-menu>
                    </div>
                </div>
            </div>
        </div>
    </div>

</ng-template>

<ng-template #tags>
    <div class="cu-automation-trigger-special-condition">

    </div>
    <div class="cu-edit-automation__container-body-actions-row">
        <div class="cu-edit-automation__container-body-actions-label">{{'tags.themtag'|translate}}:
        </div>
        <div class="row">
            <div class="border-tag url" style="margin: 0 5px;"
                [matMenuTriggerFor]="tag"
                matTooltip="{{ 'work.chinhsuatag' | translate}}">
                <i class="fas fa-tags"></i>
            </div> 

            <ng-container *ngFor="let tag of value.Tags">
                <kt-cu-tag [node]="item1" [tag]="tag" [detail]="true"
                    (RemoveTag)="SelectedTag(tag)">
                </kt-cu-tag>
            </ng-container>

            <mat-menu #tag="matMenu">
                <kt-choose-milestone-and-tags [options]="list_Tag"
                    [project_team]="''" [auto]='true'
                    (Noclick)="stopPropagation($event)"
                    [id_project_Team]="ID_projectteam" [Id]="0"
                    [Id_key]="9" [Loai]="'Tags'"
                    (ItemSelected)="SelectedTag($event)">
                </kt-choose-milestone-and-tags>
            </mat-menu>
        </div>
    </div> 
    <div class="cu-edit-automation__container-body-actions-row">
        <div class="cu-edit-automation__container-body-actions-label">{{'tags.xoatag'|translate}}:
            <div class="row">
                <div class="border-tag url" style="margin: 0 5px;" 
                    [matMenuTriggerFor]="tag2"
                    matTooltip="{{ 'work.chinhsuatag' | translate}}">
                    <i class="fas fa-tags"></i>
                </div> 
    
                <ng-container *ngFor="let tag of value.Tags2">
                    <kt-cu-tag [node]="item2" [tag]="tag" [detail]="true"
                        (RemoveTag)="SelectedTag(tag,6)">
                    </kt-cu-tag>
                </ng-container>
    
                <mat-menu #tag2="matMenu">
                    <kt-choose-milestone-and-tags [options]="list_Tag"
                        [project_team]="''" [auto]='true'
                        (Noclick)="stopPropagation($event)"
                        [id_project_Team]="ID_projectteam" [Id]="0"
                        [Id_key]="9" [Loai]="'Tags'"
                        (ItemSelected)="SelectedTag($event,6)">
                    </kt-choose-milestone-and-tags>
                </mat-menu>
            </div>
        </div>
    </div> 

</ng-template>

<ng-template #task>


    <!-- <div class="cu-edit-automation__container-body-actions-row d-block">
        <div class="item-field">
            <div class="cu-automation-field-value-text-input w-100">
                <div class="cu-automation-field-value-text-input__container ">
                    <div class="cu-automation-field-value-text-input__input ql-container ql-snow">
                        <input class="input-tencv w-100" type="text" [(ngModel)]="value.taskname"
                            placeholder="Nhập tên công việc">
                    </div>
                </div>
            </div>
        </div>
        <div class="item-field">
            <div class="cu-automation-field-value cu-automation-field-value_stretch" [matMenuTriggerFor]="DF1"
                #menuTrigger="matMenuTrigger">
                <div class="cu-automation-field-value-subcategory ">
                    <div class="cu-edit-automation-dropdown">
                        <div class="cu-edit-automation-dropdown__value">

                            <em class="">
                                {{ value.title_project_team?value.title_project_team:'Select a List' }}
                            </em>


                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>

                        </div>
                    </div>


                </div>

            </div>
            <mat-menu #DF1="matMenu">
                <div class="view-mat-menu-df" (click)="$event.stopPropagation();">
                    <ng-container *ngFor="let space of ListDepartmentFolder">
                        <div class="cu2-space-row__item cu2-space-row__item_expanded"
                            (click)="space.expanded = !space.expanded">
                            <div class="cu-project-avatar_20 cu-project-avatar">
                                <div class="cu-project-avatar__item cu-avatar cu-project-avatar__text cu-project-avatar__text_bg"
                                    style="color: rgb(191, 74, 204);">
                                    <span style="margin-top:-1px"> {{space.title[0]}} </span>
                                </div>
                            </div>
                            <div matTooltipShowDelay="300" matTooltip="{{space.title}}"
                                class="cu2-space-row__item-name">
                                {{space.title}} </div>
                        </div>
                        <ng-container *ngIf="space.expanded">
                            <ng-container *ngFor="let folder of space.folder">
                                <div class="cu2-space-row__item_1 cu2-space-row__item_expanded"
                                    (click)="folder.expanded = !folder.expanded">
                                    <div class="cu-project-avatar_20 cu-project-avatar">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            viewBox="0 0 24 24">
                                            <path
                                                d="M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z" />
                                        </svg>
                                    </div>
                                    &nbsp;
                                    <div matTooltipShowDelay="300" matTooltip="{{folder.title}}"
                                        class="cu2-space-row__item-name"> {{folder.title}}
                                    </div>

                                </div>
                                <ng-container *ngIf="folder.expanded">
                                    <div *ngFor="let project of folder.project"
                                        [ngClass]="{'selectedProject': project.id_row == value.id_project_team}"
                                        class="cu2-space-row__item_2 cu2-space-row__item_expanded"
                                        (click)="SelectedProject(project);menuTrigger.closeMenu();">
                                        <div class="cu-project-avatar_20 cu-project-avatar">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                                viewBox="0 0 24 24">
                                                <path
                                                    d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z" />
                                            </svg>
                                        </div>
                                        &nbsp;
                                        <div matTooltipShowDelay="300" matTooltip="{{project.title}}"
                                            class="cu2-space-row__item-name">
                                            {{project.title}}
                                        </div>

                                    </div>
                                </ng-container>

                            </ng-container>
                            <div *ngFor="let project of space.project"
                                [ngClass]="{'selectedProject': project.id_row == value.id_project_team}"
                                class="cu2-space-row__item_1 cu2-space-row__item_expanded"
                                (click)="SelectedProject(project);menuTrigger.closeMenu();">
                                <div class="cu-project-avatar_20 cu-project-avatar">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                        <path
                                            d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z" />
                                    </svg>
                                </div>
                                &nbsp;
                                <div matTooltipShowDelay="300" matTooltip="{{project.title}}"
                                    class="cu2-space-row__item-name">
                                    {{project.title}}
                                </div>

                            </div>
                            <hr>
                        </ng-container>
                    </ng-container>
                </div>
            </mat-menu>
        </div>
        <div class="item-field">
            <div class="cu-automation-field-value-status-single w-100">
                <div class="cu-edit-automation-dropdown cu-dropdown__toggle">
                    <div class="cu-edit-automation-dropdown__value row" style="align-items: center;">
                        <div class="cu-edit-automation__container-body-actions-label">Chọn độ ưu tiên:
                        </div>
                
                        <div class="cu-automation-field-value cu-automation-field-value_stretch url">
                            <div class="cu-automation-field-value-status-multiple">
                                <div class="cu-status-filter">
                                    <div cudropdown="" class="cu-dropdown_left cu-dropdown">
                                        <div class="cu-status-filter__toggle cu-dropdown__toggle"
                                            [matMenuTriggerFor]="priorityto">
                                            <div class="cu-status-filter__value">
                                                <ng-container *ngIf="!value.to; else bidingpriorityto">
                                                    Select a prioirty
                                                </ng-container>
                                                <ng-template #bidingpriorityto>
                                                    <i class="{{ getPriority(value.to).icon }}"></i>
                                                    &nbsp;
                                                    {{ 'priority.'+getPriority(value.to).name | translate }}
                                                </ng-template>
                                            </div>
                                        </div>
                                        <mat-menu #priorityto="matMenu">
                                            <button mat-menu-item *ngFor="let prio of listPriority"
                                                (click)="updatePriority(prio.value,false)">
                                                <i class="{{prio.icon}} pd-r-10"></i>
                                                {{ 'priority.'+prio.name | translate }}
                                            </button>
                                        </mat-menu>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                            <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="item-field">
            <div class="cu-automation-field-value-status-single w-100" [matMenuTriggerFor]="status">
                <div class="cu-edit-automation-dropdown cu-dropdown__toggle">
                    <div class="cu-edit-automation-dropdown__value">
                        <em class="row" style="align-items: center;">
                            <ng-container *ngIf="!this.value.status;else showstatus">
                                Select a status
                            </ng-container>

                            <ng-template #showstatus>
                                <div class="cu-task-row-status1" style="width:20px;padding-right:10px">
                                    <div class="point" style="height: 12px;"
                                        [ngStyle]="{'backgroundColor': this.value.status.color}">
                                    </div>
                                </div>
                                {{this.value.status.statusname}}
                            </ng-template>

                        </em>
                    </div>
                    <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                            <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                        </svg>
                    </div>
                </div>
            </div>
            <mat-menu #status="matMenu">
                <button mat-menu-item *ngFor="let status of listStatus" (click)="UpdateStatus(status)"
                    [ngStyle]="{color: status.color}">
                    <div class="row">
                        <div class="cu-task-row-status1" style="width:20px;padding-right:10px">
                            <div class="point h-100" [ngStyle]="{'backgroundColor': status.color}">
                            </div>
                        </div>
                        {{status.statusname}}
                    </div>
                </button>
            </mat-menu>
        </div>
        <div class="item-field">
            <div class="cu-automation-field-value-status-single w-100">
                <div class="cu-edit-automation-dropdown cu-dropdown__toggle">
                    <div class="cu-edit-automation-dropdown__value row" style="align-items: center;">
                        <div class="cu-edit-automation__container-body-actions-label">Người tham gia:
                        </div>
                
                        <div class="cu-automation-field-value cu-automation-field-value_stretch url">
                            <div class="cu-automation-field-value-user">

                                <kt-avatar-list-users [ListUser]="getItemSelectedAssign()" MaxSize="3" iconSize="24">
                                </kt-avatar-list-users>

                                <div class="add-user url" [matMenuTriggerFor]="owner">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                        <path
                                            d="M9.602 3.7c-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 3.321 0 5.97 2.117 5.97 6.167 0 3.555-1.949 6.833-2.383 7.833h-2.115c.392-1.536 2.499-4.366 2.499-7.842 0-5.153-5.867-4.985-7.369-2.458zm13.398 15.3h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z" />
                                    </svg>
                                </div>

                                <mat-menu #owner="matMenu">
                                    <div class="page-work-detail">
                                        <kt-choose-users isNewView="true" [options]="getOptions()"
                                            (ItemSelected)="ItemSelectedAssign($event,1)">
                                        </kt-choose-users>
                                    </div>
                                </mat-menu>

                            </div>
                        </div>
                    </div>
                    <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                            <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

    <ng-container *ngIf="Actionid==3">
        <ng-container [ngTemplateOutlet]="taskparent"></ng-container>
    </ng-container>

    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">

        <div
            class="Name cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Task ">
            {{ 'work.taskname' | translate }}: *
        </div>

        <div class="Name cu-automation-field-value_stretch cu-automation-field-value_stretch_Task">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-text-input w-100">
                    <div class="cu-automation-field-value-text-input__container ">
                        <div class="cu-automation-field-value-text-input__input ql-container ql-snow">
                            <input class="input-tencv w-100" type="text" [(ngModel)]="value.taskname"
                                placeholder="{{ 'work.entertaskname' | translate }}">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    
    <ng-container *ngIf="Actionid==2">
        <ng-container [ngTemplateOutlet]="movetolist"></ng-container>
    </ng-container>

    <div class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Status ">
            {{ 'GeneralKey.trangthai' | translate }}:
        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_Status">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-status-single w-100" [matMenuTriggerFor]="status">
                    <div class="cu-edit-automation-dropdown cu-dropdown__toggle">
                        <div class="cu-edit-automation-dropdown__value">
                            <em class="row" style="align-items: center;">
                                <ng-container *ngIf="!this.value.status;else showstatus">
                                    {{ 'department.chontrangthaicv' | translate }}
                                </ng-container>

                                <ng-template #showstatus>
                                    <div class="cu-task-row-status1" style="width:20px;padding-right:10px">
                                        <div class="point" style="height: 12px;"
                                            [ngStyle]="{'backgroundColor': this.value.status.color}">
                                        </div>
                                    </div>
                                    {{this.value.status.statusname}}
                                </ng-template>

                            </em>
                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <mat-menu #status="matMenu">
            <button mat-menu-item *ngFor="let status of listStatus" (click)="UpdateStatus(status)"
                [ngStyle]="{color: status.color}">
                <div class="row" style="align-items: center;">
                    <div class="cu-task-row-status1" style="width:20px;padding-right:12px">
                        <div class="point" [ngStyle]="{'backgroundColor': status.color}">
                        </div>
                    </div>
                    {{status.statusname}}
                </div>
            </button>
        </mat-menu>
    </div>

    <!-- <div class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Description ">
            Mô tả công việc:



        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_Description">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-text-input w-100">
                    <div class="cu-automation-field-value-text-input__container ">
                        <div class="cu-automation-field-value-text-input__input ql-container ql-snow">
                            <textarea class="w-100" matInput
                                placeholder="{{ 'automation.enterdescription' | translate }}" cdkTextareaAutosize
                                #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1"
                                cdkAutosizeMaxRows="5"></textarea>
                        </div>

                    </div>

                </div>

            </div>
        </div>
    </div> -->


    <ng-container [ngTemplateOutlet]="priority"></ng-container>


    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="Date cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Due ">
            {{ 'filter.ngayketthuc' | translate }}:
        </div>
        <div class="Date cu-automation-field-value_stretch cu-automation-field-value_stretch_Due">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-date w-100" [matMenuTriggerFor]="startdate">
                    <div class="cu-edit-automation-dropdown">
                        <div class="cu-edit-automation-dropdown__value">
                            {{ TitleOptionDate(value.startdatetype) }}
                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <mat-menu #startdate="matMenu">
            <button mat-menu-item *ngFor="let date of OPTIONDATE" (click)="UpdateDateTask(date.value)">
                {{ date.name }}
            </button>
        </mat-menu>

        <ng-container *ngIf="value.startdatetype == 3">
            <div style="padding-top: 10px;">
                <mat-form-field appearance="fill" class="w-100">
                    <mat-label>{{'day.chonngay' | translate}}</mat-label>
                    <input matInput [(ngModel)]="value.startdateValue" [matDatepicker]="startpicker" readonly>
                    <mat-datepicker-toggle matSuffix [for]="startpicker"></mat-datepicker-toggle>
                    <mat-datepicker #startpicker></mat-datepicker>
                </mat-form-field>
            </div>
        </ng-container>
        <ng-container *ngIf="value.startdatetype == 1">
            <div style="padding-top: 10px;">
                <mat-form-field appearance="fill" class="w-100">
                    <mat-label>{{'GeneralKey.songay' | translate}}</mat-label>
                    <input matInput [(ngModel)]="value.startdateValue" type="number">
                </mat-form-field>
            </div>
        </ng-container>

    </div>

    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="Date cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Start ">
            {{ 'filter.ngayketthuc' | translate }}:
        </div>

        <div class="Date cu-automation-field-value_stretch cu-automation-field-value_stretch_Due">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-date w-100" [matMenuTriggerFor]="duedate">
                    <div class="cu-edit-automation-dropdown">
                        <div class="cu-edit-automation-dropdown__value">
                            {{ TitleOptionDate(value.duedatetype) }}
                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <mat-menu #duedate="matMenu">
            <button mat-menu-item *ngFor="let date of OPTIONDATE" (click)="UpdateDateTask(date.value,false)">
                {{ date.name }}
            </button>
        </mat-menu>

        <ng-container *ngIf="value.duedatetype == 3">
            <div style="padding-top: 10px;">
                <mat-form-field appearance="fill" class="w-100">
                    <mat-label>{{'day.chonngay' | translate}}</mat-label>
                    <input matInput [(ngModel)]="value.duedateValue" [matDatepicker]="duepicker" readonly>
                    <mat-datepicker-toggle matSuffix [for]="duepicker"></mat-datepicker-toggle>
                    <mat-datepicker #duepicker></mat-datepicker>
                </mat-form-field>
            </div>
        </ng-container>
        <ng-container *ngIf="value.duedatetype == 1">
            <div style="padding-top: 10px;">
                <mat-form-field appearance="fill" class="w-100">
                    <mat-label>{{'GeneralKey.songay' | translate}}</mat-label>
                    <input matInput [(ngModel)]="value.duedateValue" type="number">
                </mat-form-field>
            </div>
        </ng-container>
    </div>

    <!-- <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Tags ">
            Tags:



        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_Tags">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd">
                    <path
                        d="M12.434 22.586l7.859-7.858.707.707-8.565 8.565-.001-.001v.001l-12.434-12.434.707-.707 11.727 11.727zm-.033-1.7l-12.401-12.405v-8.481h8.441l12.445 12.401-8.485 8.485zm-4.373-19.886h-7.028v7.067l11.401 11.405 7.07-7.07s-7.534-7.506-11.443-11.402zm-1.598 2.594c.78.78.78 2.048 0 2.828-.781.781-2.048.781-2.829 0-.78-.78-.78-2.048 0-2.828.781-.781 2.048-.781 2.829 0zm-.707.707c.39.39.39 1.024 0 1.414-.391.39-1.024.39-1.414 0-.391-.39-.391-1.024 0-1.414.39-.39 1.023-.39 1.414 0z" />
                </svg>

            </div>
        </div>
    </div> -->

    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Assignees ">
            {{'filter.Assignee'|translate}}:

        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_Assignees">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-assignees w-100">
                    <div class="cu-edit-automation__container-body-actions-row">
                        <div class="cu-automation-field-value cu-automation-field-value_stretch">
                            <div class="cu-automation-field-value-user">
                                <kt-avatar-list-users [ListUser]="getItemSelectedAssign()" MaxSize="3" iconSize="24">
                                </kt-avatar-list-users>
                                <div class="add-user url" [matMenuTriggerFor]="owner">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                        <path
                                            d="M9.602 3.7c-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 3.321 0 5.97 2.117 5.97 6.167 0 3.555-1.949 6.833-2.383 7.833h-2.115c.392-1.536 2.499-4.366 2.499-7.842 0-5.153-5.867-4.985-7.369-2.458zm13.398 15.3h-3v-3h-2v3h-3v2h3v3h2v-3h3v-2z" />
                                    </svg>
                                </div>
                                <mat-menu #owner="matMenu">
                                    <div class="page-work-detail" (click)="$event.stopPropagation();">
                                        <kt-choose-users isNewView="true" [options]="getOptions()"
                                            (ItemSelected)="ItemSelectedAssign($event,1)">
                                        </kt-choose-users>
                                    </div>
                                </mat-menu>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- <div class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_custom_field">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
                <div class="cu-automation-field-value-add-custom-field ">
                    <div class="cu-automation-field-value-add-custom-field__add ">
                        <div icon="cu2-plus" class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" id="svg-sprite-cu2-plus">
                                <path
                                    d="M416 208H272V64a32 32 0 00-32-32h-32a32 32 0 00-32 32v144H32a32 32 0 00-32 32v32a32 32 0 0032 32h144v144a32 32 0 0032 32h32a32 32 0 0032-32V304h144a32 32 0 0032-32v-32a32 32 0 00-32-32z"
                                    stroke="transparent"></path>
                            </svg>
                        </div>Add existing Custom Field
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_action">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">
            </div>
        </div>
    </div> -->
</ng-template>

<ng-template #movetolist>
    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_List ">
            {{ 'topic.projectteam' | translate}}: *
        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_List">
            <div class="cu-automation-field-value cu-automation-field-value_stretch" [matMenuTriggerFor]="DF"
                #menuTrigger="matMenuTrigger">
                <div class="cu-automation-field-value-subcategory ">
                    <div class="cu-edit-automation-dropdown">
                        <div class="cu-edit-automation-dropdown__value">

                            <em class="">
                                <ng-container *ngIf="value.title_project_team">{{value.title_project_team}}</ng-container>
                                <ng-container *ngIf="!value.title_project_team">{{'filter.chonduan'|translate}}</ng-container>
                            </em>


                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>

                        </div>
                    </div>


                </div>

            </div>
        </div>
    </div>
    <mat-menu #DF="matMenu">
        <div class="view-mat-menu-df" (click)="$event.stopPropagation();">
            <ng-container *ngFor="let space of ListDepartmentFolder">
                <div class="cu2-space-row__item cu2-space-row__item_expanded"
                    (click)="space.expanded = !space.expanded">
                    <div class="cu-project-avatar_20 cu-project-avatar">
                        <div class="cu-project-avatar__item cu-avatar cu-project-avatar__text cu-project-avatar__text_bg"
                            style="color: rgb(191, 74, 204);">
                            <span style="margin-top:-1px"> {{space.title[0]}} </span>
                        </div>
                    </div>
                    <div matTooltipShowDelay="300" matTooltip="{{space.title}}" class="cu2-space-row__item-name">
                        {{space.title}} </div>

                </div>
                <ng-container *ngIf="space.expanded">
                    <ng-container *ngFor="let folder of space.folder">
                        <div class="cu2-space-row__item_1 cu2-space-row__item_expanded"
                            (click)="folder.expanded = !folder.expanded">
                            <div class="cu-project-avatar_20 cu-project-avatar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                                    <path
                                        d="M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z" />
                                </svg>
                            </div>
                            &nbsp;
                            <div matTooltipShowDelay="300" matTooltip="{{folder.title}}"
                                class="cu2-space-row__item-name"> {{folder.title}}
                            </div>

                        </div>
                        <ng-container *ngIf="folder.expanded">
                            <div *ngFor="let project of folder.project"
                                [ngClass]="{'selectedProject': project.id_row == value.id_project_team}"
                                class="cu2-space-row__item_2 cu2-space-row__item_expanded"
                                (click)="SelectedProject(project);menuTrigger.closeMenu();">
                                <div class="cu-project-avatar_20 cu-project-avatar">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                        <path
                                            d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z" />
                                    </svg>
                                </div>
                                &nbsp;
                                <div matTooltipShowDelay="300" matTooltip="{{project.title}}"
                                    class="cu2-space-row__item-name">
                                    {{project.title}}
                                </div>

                            </div>
                        </ng-container>

                    </ng-container>
                    <div *ngFor="let project of space.project"
                        [ngClass]="{'selectedProject': project.id_row == value.id_project_team}"
                        class="cu2-space-row__item_1 cu2-space-row__item_expanded"
                        (click)="SelectedProject(project);menuTrigger.closeMenu();">
                        <div class="cu-project-avatar_20 cu-project-avatar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path
                                    d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z" />
                            </svg>
                        </div>
                        &nbsp;
                        <div matTooltipShowDelay="300" matTooltip="{{project.title}}" class="cu2-space-row__item-name">
                            {{project.title}}
                        </div>

                    </div>
                    <hr>
                </ng-container>
            </ng-container>
        </div>
    </mat-menu>
</ng-template>

<ng-template #changedate>
    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="Date cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Due ">
            <!-- {{ Actionid==11?'filter.ngayketthuc':'filter.ngaybatdau' | translate }} -->
            <ng-container *ngIf="Actionid==11">{{'filter.ngayketthuc' | translate }}</ng-container>
            <ng-container *ngIf="Actionid!=11">{{'filter.ngaybatdau' | translate }}</ng-container>
            
        </div>
        <div class="Date cu-automation-field-value_stretch cu-automation-field-value_stretch_Due">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">

                <mat-form-field class="w-100" appearance="fill">
                    <mat-label>{{'GeneralKey.chon' | translate}}</mat-label>
                    <mat-select [(ngModel)]="value.datetype">
                        <mat-option [value]="item.value" *ngFor="let item of OPTIONDATE">
                            {{ item.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

            </div>
        </div>

        <ng-container *ngIf="value.datetype == 3">
            <div style="padding-top: 10px;">
                <mat-form-field appearance="fill" class="w-100">
                    <mat-label>{{'day.chonngay' | translate}}</mat-label>
                    <input matInput [(ngModel)]="value.dateValue" [matDatepicker]="picker" readonly>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
        </ng-container>
        <ng-container *ngIf="value.datetype == 1">
            <div style="padding-top: 10px;">
                <mat-form-field appearance="fill" class="w-100">
                    <mat-label>{{'GeneralKey.songay' | translate}}</mat-label>
                    <input matInput [(ngModel)]="value.dateValue" type="number">
                </mat-form-field>
            </div>
        </ng-container>

    </div>
</ng-template>

<ng-template #comment>
    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <mat-form-field [style.fontSize]="'14px'" class="w-100">
            <mat-label>{{'filter.comments' | translate}}</mat-label>
            <textarea matInput cdkTextareaAutosize [(ngModel)]="value.data" #autosize="cdkTextareaAutosize"
                cdkAutosizeMinRows="3" cdkAutosizeMaxRows="8"></textarea>
        </mat-form-field>
    </div>
</ng-template>

<ng-template #taskparent>
    <!-- <div class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_Template ">
            Công việc con:
        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_Template">
            <div class="cu-automation-field-value cu-automation-field-value_stretch">

                <div class="cu-automation-field-value-template w-100">
                    <div class="cu-edit-automation-dropdown ">
                        <div class="cu-edit-automation-dropdown__value">
                            <em data-test="edit-automation-dropdown__template-name" class="">
                                Chọn công việc
                            </em>
                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>

                        </div>
                    </div>


                </div>

            </div>
        </div>
    </div> -->
    <div
        class="cu-edit-automation__container-body-actions-row cu-edit-automation__container-body-actions-row-create_task cu-edit-automation__container-body-actions-row_multiline-labels ">
        <div
            class="cu-edit-automation__container-body-actions-label cu-edit-automation__container-body-actions-label_List ">
            {{'filter.parenttask'|translate}}:
        </div>

        <div class="cu-automation-field-value_stretch cu-automation-field-value_stretch_List">
            <div class="cu-automation-field-value cu-automation-field-value_stretch" [matMenuTriggerFor]="parenttask"
                #menuTrigger="matMenuTrigger">
                <div class="cu-automation-field-value-subcategory ">
                    <div class="cu-edit-automation-dropdown">
                        <div class="cu-edit-automation-dropdown__value">

                            <em class="">
                                {{ value.title_task?value.title_task:('filter.chooseparenttask'|translate ) }}
                            </em>


                        </div>
                        <div icon="cu2-angle-down" class="cu-edit-automation-dropdown__arrow icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
                            </svg>

                        </div>
                    </div>


                </div>

            </div>
        </div>
    </div>
    <mat-menu #parenttask="matMenu">
        <div class="view-mat-menu-df" (click)="$event.stopPropagation();">
            <ng-container *ngFor="let space of ListTaskParent">
                <div class="cu2-space-row__item cu2-space-row__item_expanded"
                    (click)="space.expanded = !space.expanded">
                    <div class="cu-project-avatar_20 cu-project-avatar">
                        <div class="cu-project-avatar__item cu-avatar cu-project-avatar__text cu-project-avatar__text_bg"
                            style="color: rgb(191, 74, 204);">
                            <span style="margin-top:-1px"> {{space.title[0]}} </span>
                        </div>
                    </div>
                    <div matTooltipShowDelay="300" matTooltip="{{space.title}}" class="cu2-space-row__item-name">
                        {{space.title}} </div>

                </div>
                <ng-container *ngIf="space.expanded">
                    <ng-container *ngFor="let folder of space.folder">
                        <div class="cu2-space-row__item_1 cu2-space-row__item_expanded"
                            (click)="folder.expanded = !folder.expanded">
                            <div class="cu-project-avatar_20 cu-project-avatar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                                    <path
                                        d="M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z" />
                                </svg>
                            </div>
                            &nbsp;
                            <div matTooltipShowDelay="300" matTooltip="{{folder.title}}"
                                class="cu2-space-row__item-name"> {{folder.title}}
                            </div>

                        </div>
                        <ng-container *ngIf="folder.expanded">
                            <ng-container *ngFor="let project of folder.project">
                                <div class="cu2-space-row__item_2 cu2-space-row__item_expanded"
                                    (click)="project.expanded = !project.expanded">
                                    <div class="cu-project-avatar_20 cu-project-avatar">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                            viewBox="0 0 24 24">
                                            <path
                                                d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z" />
                                        </svg>
                                    </div>
                                    &nbsp;
                                    <div matTooltipShowDelay="300" matTooltip="{{project.title}}"
                                        class="cu2-space-row__item-name">
                                        {{project.title}}
                                    </div>
                                </div>
                                <ng-container *ngIf="project.expanded">
                                    <div *ngFor="let task of project.dataTask"
                                        [ngClass]="{'selectedProject': task.id_row == value.id_task}"
                                        class="cu2-space-row__item_2 cu2-space-row__item_expanded"
                                        (click)="SelectedTask(task);SelectedProject(project);menuTrigger.closeMenu();">
                                        <div class="cu-project-avatar_20 cu-project-avatar" matTooltip="{{task.StatusName}}" [ngStyle]="{'fill': task.color}">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M24 3c0-1.657-1.343-3-3-3h-18c-1.657 0-3 1.343-3 3v18c0 1.657 1.343 3 3 3h18c1.657 0 3-1.343 3-3v-18z"/></svg>
                                        </div>
                                        &nbsp;
                                        <div matTooltipShowDelay="300" matTooltip="{{task.title}}"
                                            class="cu2-space-row__item-name">
                                            {{task.title}}
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                    </ng-container>
                    <ng-container *ngFor="let project of space.project">
                        <div class="cu2-space-row__item_1 cu2-space-row__item_expanded"
                            (click)="project.expanded = !project.expanded">
                            <div class="cu-project-avatar_20 cu-project-avatar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24">
                                    <path
                                        d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z" />
                                </svg>
                            </div>
                            &nbsp;
                            <div matTooltipShowDelay="300" matTooltip="{{project.title}}"
                                class="cu2-space-row__item-name">
                                {{project.title}}
                            </div>

                        </div>
                        <ng-container *ngIf="project.expanded">
                            <div *ngFor="let task of project.dataTask"
                                [ngClass]="{'selectedProject': task.id_row == value.id_task}"
                                class="cu2-space-row__item_2 cu2-space-row__item_expanded"
                                (click)="SelectedTask(task);SelectedProject(project);menuTrigger.closeMenu();" >
                                <div class="cu-project-avatar_20 cu-project-avatar" matTooltip="{{task.StatusName}}" [ngStyle]="{'fill': task.color}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M24 3c0-1.657-1.343-3-3-3h-18c-1.657 0-3 1.343-3 3v18c0 1.657 1.343 3 3 3h18c1.657 0 3-1.343 3-3v-18z"/></svg>
                                </div>
                                &nbsp;
                                <div matTooltipShowDelay="300" matTooltip="{{task.title}}"
                                    class="cu2-space-row__item-name">
                                    {{task.title}}
                                </div>
                            </div>
                        </ng-container>
                    </ng-container>
                    <hr>
                </ng-container>
            </ng-container>
        </div>
    </mat-menu>
</ng-template>